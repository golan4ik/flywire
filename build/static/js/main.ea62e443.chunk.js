(this.webpackJsonpflywire=this.webpackJsonpflywire||[]).push([[0],{72:function(e,t,n){},73:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var c=n(5),i=n(0),a=n.n(i),s=n(10),r=n.n(s),o=(n(72),n(73),n(43)),u=n(11),j=n(18),l=n(119),d=n(116),b=n(121),h=n(122),m=Object(d.a)((function(e){return{root:{maxWidth:345,width:"56.25%",cursor:"pointer",position:"relative"},media:{height:0,paddingTop:"56.25%",backgroundSize:"cover"},play:{backgroundImage:'url("./images/play.png")',backgroundSize:"30%",backgroundRepeat:"no-repeat",backgroundPosition:"center",position:"absolute",top:0,left:0,width:"100%",height:"100%"}}})),g=function(e){var t;return null===(t=e.links.find((function(e){return"preview"===e.rel})))||void 0===t?void 0:t.href},v=function(e){return"video"===e.data[0].media_type},O=function(e){var t=m(),n=e.item,i=e.onItemClick;return Object(c.jsx)(l.a,{container:!0,item:!0,xs:12,sm:6,md:4,lg:2,children:Object(c.jsxs)(b.a,{className:t.root,onClick:function(){return i(n)},children:[Object(c.jsx)(h.a,{className:t.media,image:g(n),title:"ResultItem"}),v(n)&&Object(c.jsx)(l.a,{className:t.play})]})})},f=function(e){var t=e.items,n=e.onResultClick;return Object(c.jsx)(l.a,{container:!0,spacing:2,children:t.map((function(e,t){return Object(c.jsx)(O,{item:e,onItemClick:n},t)}))})},p=n(37),x=n(127),A=n(124),k=n(129),S=n(128),I=n(123),y=n(58),C=n.n(y),T=function(e){var t=e.disabled,n=e.searchTerm,i=e.onTermUpdate,a=e.onSearchClick,s=e.imagesActive,r=e.videosActive,o=e.toggleImagesActive,u=e.toggleVideosActive;return Object(c.jsxs)(l.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center",direction:"column",children:[Object(c.jsx)(p.a,{variant:"h5",component:"b",children:"NASA Search"}),Object(c.jsx)(l.a,{item:!0,xs:12,children:Object(c.jsx)(x.a,{disabled:t,value:n,onKeyUp:function(e){return"Enter"===e.code&&a()},onChange:function(e){return i(e.target.value)},variant:"outlined",InputProps:{endAdornment:Object(c.jsx)(I.a,{children:Object(c.jsx)(S.a,{onClick:a,children:Object(c.jsx)(C.a,{})})})}})}),Object(c.jsxs)(l.a,{children:[Object(c.jsx)(A.a,{control:Object(c.jsx)(k.a,{disabled:t,checked:r,onChange:u,name:"video",color:"primary"}),label:"Video"}),Object(c.jsx)(A.a,{control:Object(c.jsx)(k.a,{disabled:t,checked:s,onChange:o,name:"image",color:"primary"}),label:"Image"})]})]})},w=Object(i.createContext)(),V=function(e){var t=Object(i.useState)([]),n=Object(j.a)(t,2),a=n[0],s=n[1],r=Object(i.useState)(""),o=Object(j.a)(r,2),u=o[0],l=o[1],d=Object(i.useState)(!1),b=Object(j.a)(d,2),h=b[0],m=b[1],g=Object(i.useState)(!1),v=Object(j.a)(g,2),O=v[0],f=v[1];return Object(c.jsx)(w.Provider,{value:{results:a,setResults:s,searchTerm:u,setSearchTerm:l,imagesActive:h,setImagesActive:m,videosActive:O,setVideosActive:f},children:e.children})},N=Object(u.g)((function(e){var t=Object(i.useContext)(w),n=t.results,a=t.setResults,s=t.searchTerm,r=t.setSearchTerm,o=t.imagesActive,u=t.setImagesActive,d=t.videosActive,b=t.setVideosActive,h=Object(i.useState)(!1),m=Object(j.a)(h,2),g=m[0],v=(m[1],"https://images-api.nasa.gov/search?q=".concat(s)),O="";o||d?(o&&(O="image"),d&&(O="video",o&&(O+=",image"))):O="image,video",v=O?v+"&media_type=".concat(O):v;return Object(c.jsxs)(l.a,{container:!0,item:!0,direction:"column",alignItems:"center",justify:"center",xs:12,children:[Object(c.jsx)(T,{disabled:g,imagesActive:o,videosActive:d,toggleImagesActive:function(){return u((function(e){return!e}))},toggleVideosActive:function(){return b((function(e){return!e}))},searchTerm:s,onSearchClick:function(){s&&fetch(v).then((function(e){return e.json()})).then((function(e){var t;return a((null===(t=e.collection)||void 0===t?void 0:t.items)||[])}))},onTermUpdate:function(e){r(e)}}),Object(c.jsx)(f,{items:n,onResultClick:function(t){e.history.push("asset/".concat(t.data[0].nasa_id))}})]})})),R=n(125),P=n(126),_=Object(d.a)((function(e){return{media:{height:0,paddingTop:"56.25%",backgroundSize:"cover"}}})),z=Object(u.g)((function(e){var t=Object(i.useState)(!1),n=Object(j.a)(t,2),a=n[0],s=n[1],r=Object(i.useState)(null),o=Object(j.a)(r,2),u=o[0],d=o[1],m=Object(i.useState)(null),g=Object(j.a)(m,2),v=g[0],O=g[1],f=_();Object(i.useEffect)((function(){s(!0),Promise.all([A(),x()]).then((function(e){var t=Object(j.a)(e,2),n=t[0],c=t[1];d(n[0]),O(c),s(!1)}))}),[]);var x=function(){return fetch("https://images-assets.nasa.gov/image/".concat(e.id,"/metadata.json")).then((function(e){return e.json()})).catch((function(){return fetch("https://images-assets.nasa.gov/video/".concat(e.id,"/metadata.json")).then((function(e){return e.json()}))}))},A=function(){return fetch("https://images-assets.nasa.gov/image/".concat(e.id,"/collection.json")).then((function(e){return e.json()})).catch((function(){return fetch("https://images-assets.nasa.gov/video/".concat(e.id,"/collection.json")).then((function(e){return e.json()}))}))};return Object(c.jsxs)(l.a,{container:!0,item:!0,alignItems:"center",justify:"center",xs:12,children:[a?Object(c.jsx)(p.a,{variant:"h1",children:"Loading"}):null,u&&v&&Object(c.jsxs)(b.a,{children:[Object(c.jsx)(R.a,{title:v["AVAIL:Title"],subheader:v["AVAIL:Description"]}),"jpg"===(null===u||void 0===u?void 0:u.split(".").pop())&&Object(c.jsx)(h.a,{image:u,className:f.media}),"mp4"===(null===u||void 0===u?void 0:u.split(".").pop())&&Object(c.jsx)(P.a,{children:Object(c.jsx)("iframe",{title:"asset_video",src:u,width:"640",height:"370",scrolling:"no",frameBorder:"0"})})]})]})}));var E=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(V,{children:Object(c.jsx)(o.a,{children:Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{exact:!0,path:"/search",children:function(e){return Object(c.jsx)(N,{})}}),Object(c.jsx)(u.b,{exact:!0,path:"/asset/:id",children:function(e){var t=e.match.params;return Object(c.jsx)(z,{id:t.id})}}),Object(c.jsx)(u.b,{path:"*",children:Object(c.jsx)(u.a,{to:"/search"})})]})})})})};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(E,{})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.ea62e443.chunk.js.map